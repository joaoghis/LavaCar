<div class="container py-3">
  <h2 class="text-center mb-4">{{ title }}</h2>

  <div class="row mb-3">
    <label class="col-sm-2 col-form-label fw-bold text-end">Pesquisar:</label>
    <div class="col-sm-10">
      <input type="text" class="form-control" [formControl]="filtro" placeholder="Digite para filtrar..." />
    </div>
  </div>

  <table class="table table-striped table-hover align-middle">
    <thead>
      <tr>
        <th *ngFor="let col of columns" [style.width]="col.width" class="text-center">
          {{ col.label }}
        </th>
        <th class="text-center">Ações</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let item of paginatedData">
        <td *ngFor="let col of columns" class="text-center">
          {{ item[col.field] }}
        </td>
        <td class="text-center">
          <ng-container *ngFor="let act of actions">
            <i
              [class]="act.icon"
              [title]="act.tooltip"
              [ngClass]="act.colorClass"
              style="cursor: pointer; margin: 0 5px;"
              (click)="onAction(act.action, item)">
            </i>
          </ng-container>
        </td>
      </tr>
      <tr *ngIf="filteredData.length === 0">
        <td [attr.colspan]="columns.length + 1" class="text-center text-muted py-3">
          Nenhum registro encontrado.
        </td>
      </tr>
    </tbody>
  </table>

  <nav *ngIf="totalPages() > 1">
    <ul class="pagination justify-content-center">
      <li class="page-item" [class.disabled]="currentPage === 1" (click)="previousPage()">
        <a class="page-link">Anterior</a>
      </li>
      <li
        class="page-item"
        *ngFor="let page of [].constructor(totalPages()); let i = index"
        [class.active]="currentPage === i + 1"
        (click)="goToPage(i + 1)">
        <a class="page-link">{{ i + 1 }}</a>
      </li>
      <li class="page-item" [class.disabled]="currentPage === totalPages()" (click)="nextPage()">
        <a class="page-link">Próxima</a>
      </li>
    </ul>
  </nav>
</div>
